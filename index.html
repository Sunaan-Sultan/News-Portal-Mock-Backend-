<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Express News Portal</title>
    <style>
        body { font-family: sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .hidden { display: none; }
        .card { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; }
        .flex { display: flex; justify-content: space-between; align-items: center; }
        input, textarea { width: 100%; padding: 8px; margin-top: 5px; box-sizing: border-box; margin-bottom: 10px; }
        button { cursor: pointer; padding: 8px 15px; }
        .error { color: red; margin-bottom: 10px; }
        .pagination { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }
        nav { border-bottom: 1px solid #ddd; padding-bottom: 15px; margin-bottom: 20px; }
    </style>
</head>
<body>

    <nav class="flex">
        <h2>News Portal</h2>
        <div id="nav-actions">
            <span id="user-display"></span>
            <button id="logout-btn" onclick="logout()" class="hidden">Logout</button>
        </div>
    </nav>

    <section id="auth-page">
        <div id="login-form">
            <h2>Login</h2>
            <input type="text" id="login-username" placeholder="Username">
            <input type="password" id="login-password" placeholder="Password">
            <p id="login-error" class="error"></p>
            <button onclick="login()">Login</button>
            <p>Don't have an account? <a href="#" onclick="toggleAuth('register')">Register</a></p>
        </div>

        <div id="register-form" class="hidden">
            <h2>Register</h2>
            <input type="text" id="reg-username" placeholder="Username">
            <input type="password" id="reg-password" placeholder="Password">
            <p id="reg-error" class="error"></p>
            <button onclick="register()">Register</button>
            <p>Already have an account? <a href="#" onclick="toggleAuth('login')">Login</a></p>
        </div>
    </section>

    <section id="news-list-page" class="hidden">
        <div class="flex">
            <input type="text" id="search-box" placeholder="Search news..." oninput="handleSearch(this.value)" style="width: 70%;">
            <button onclick="showCreatePage()">+ New Post</button>
        </div>
        
        <div id="news-container"></div>

        <div class="pagination">
            <button onclick="changePage(-1)" id="prev-btn">Previous</button>
            <span id="page-info">Page 1</span>
            <button onclick="changePage(1)" id="next-btn">Next</button>
        </div>
    </section>

    <section id="news-form-page" class="hidden">
        <h2 id="form-title">Create News</h2>
        <input type="hidden" id="edit-id">
        <input type="text" id="news-title" placeholder="Title">
        <textarea id="news-body" rows="6" placeholder="Content (min 20 chars)"></textarea>
        <button onclick="submitNews()">Save</button>
        <button onclick="showNewsList()">Cancel</button>
    </section>

    <section id="detail-page" class="hidden">
        <button onclick="showNewsList()">Back</button>
        <div id="detail-content" style="margin-top: 20px;"></div>
        
        <div style="margin-top: 30px; background: #f4f4f4; padding: 15px;">
            <h4>Add Comment</h4>
            <textarea id="comment-text" placeholder="Your comment..."></textarea>
            <button onclick="submitComment()">Post Comment</button>
        </div>
    </section>

    <script src="app.js"></script>
</body>
</html>